const { ethers } = require('ethers');

// Configura√ß√£o
const provider = new ethers.JsonRpcProvider('http://localhost:7545');
const privateKey = '0x4f3edf983ac636a65a842ce7c78d9aa706d3b113bce9c46f30d7d21715b23b1d';
const wallet = new ethers.Wallet(privateKey, provider);

// ABI e Bytecode dos contratos (vou pegar do que j√° estava compilado)
const cryptoTokenABI = [
    "constructor()",
    "function name() view returns (string)",
    "function symbol() view returns (string)",
    "function decimals() view returns (uint8)",
    "function totalSupply() view returns (uint256)",
    "function balanceOf(address) view returns (uint256)",
    "function transfer(address to, uint256 amount) returns (bool)",
    "function allowance(address owner, address spender) view returns (uint256)",
    "function approve(address spender, uint256 amount) returns (bool)",
    "function transferFrom(address from, address to, uint256 amount) returns (bool)",
    "function mint(address to, uint256 amount)",
    "function burn(uint256 amount)",
    "event Transfer(address indexed from, address indexed to, uint256 value)",
    "event Approval(address indexed owner, address indexed spender, uint256 value)"
];

const cryptoNFTABI = [
    "constructor(address _tokenContract)",
    "function name() view returns (string)",
    "function symbol() view returns (string)",
    "function tokenURI(uint256 tokenId) view returns (string)",
    "function ownerOf(uint256 tokenId) view returns (address)",
    "function balanceOf(address owner) view returns (uint256)",
    "function approve(address to, uint256 tokenId)",
    "function getApproved(uint256 tokenId) view returns (address)",
    "function setApprovalForAll(address operator, bool approved)",
    "function isApprovedForAll(address owner, address operator) view returns (bool)",
    "function transferFrom(address from, address to, uint256 tokenId)",
    "function safeTransferFrom(address from, address to, uint256 tokenId)",
    "function mintNFT(address to, string memory uri) returns (uint256)",
    "function purchaseNFT(uint256 tokenId)",
    "function listNFTForSale(uint256 tokenId, uint256 price)",
    "function setPrice(uint256 _price)",
    "function getPrice() view returns (uint256)",
    "function getTokenContract() view returns (address)",
    "event Transfer(address indexed from, address indexed to, uint256 indexed tokenId)",
    "event Approval(address indexed owner, address indexed approved, uint256 indexed tokenId)",
    "event ApprovalForAll(address indexed owner, address indexed operator, bool approved)"
];

async function main() {
    console.log('üöÄ Starting simple deployment...');
    console.log('Deploying with account:', wallet.address);
    
    const balance = await provider.getBalance(wallet.address);
    console.log('Account balance:', ethers.formatEther(balance), 'ETH');

    try {
        // Deploy b√°sico com bytecode inline
        console.log('\nüìù Deploying CryptoToken...');
        
        // Bytecode simplificado do ERC20 (OpenZeppelin)
        const cryptoTokenBytecode = "0x608060405234801561001057600080fd5b506040518060400160405280600b81526020017f43727970746f546f6b656e0000000000000000000000000000000000000000008152506040518060400160405280600381526020017f43544b000000000000000000000000000000000000000000000000000000000081525081600390816100909190610294565b50806004908161009f9190610294565b5050506100c6336b033b2e3c9fd0803ce80000006100cb60201b60201c565b610366565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff160361013a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161013190610380565b60405180910390fd5b806002600082825461014c91906103af565b92505081905550806000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef8360405161020091906103ea565b60405180910390a35050565b600081519050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168061027c57607f821691505b60208210810361028f5761028e610235565b5b50919050565b61029d8261020c565b67ffffffffffffffff8111156102b6576102b5610217565b5b6102c08254610264565b6102cb828285610264565b600060209050601f8311600181146102fe57600084156102ec578287015190505b6102f685826102fe565b86555061035e565b601f19841661030c86610264565b60005b8281101561033457848901518255600182019150602085019450602081019050610309565b86831015610351578489015161034d601f891682610264565b8355505b6001600288020188555050505b505050505050565b7f45524332303a206d696e7420746f20746865207a65726f206164647265737300600082015250565b600061039a601f83610264565b91506103a582610364565b602082019050919050565b60006103bb82610264565b91506103c683610264565b92508282019050808211156103de576103dd610380565b5b92915050565b6103ed81610264565b82525050565b600060208201905061040860008301846103e4565b92915050565b610880806104156000396000f3fe608060405234801561001057600080fd5b50600436106100a95760003560e01c80633950935111610071578063395093511461016857806370a082311461019857806395d89b41146101c8578063a457c2d7146101e6578063a9059cbb14610216578063dd62ed3e14610246576100a9565b806306fdde03146100ae578063095ea7b3146100cc57806318160ddd146100fc57806323b872dd1461011a578063313ce5671461014a575b600080fd5b6100b6610276565b6040516100c39190610308565b60405180910390f35b6100e660048036038101906100e191906103c3565b610308565b6040516100f3919061041e565b60405180910390f35b61010461032b565b6040516101119190610448565b60405180910390f35b610134600480360381019061012f9190610463565b610335565b604051610141919061041e565b60405180910390f35b610152610364565b60405161015f91906104d2565b60405180910390f35b610182600480360381019061017d91906103c3565b61036d565b60405161018f919061041e565b60405180910390f35b6101b260048036038101906101ad91906104ed565b6103a4565b6040516101bf9190610448565b60405180910390f35b6101d06103ec565b6040516101dd9190610308565b60405180910390f35b61020060048036038101906101fb91906103c3565b61047e565b60405161020d919061041e565b60405180910390f35b610230600480360381019061022b91906103c3565b6104f5565b60405161023d919061041e565b60405180910390f35b610260600480360381019061025b919061051a565b610518565b60405161026d9190610448565b60405180910390f35b60606003805461028590610589565b80601f01602080910402602001604051908101604052809291908181526020018280546102b190610589565b80156102fe5780601f106102d3576101008083540402835291602001916102fe565b820191906000526020600020905b8154815290600101906020018083116102e157829003601f168201915b5050505050905090565b60008061031361059f565b90506103208185856105a7565b600191505092915050565b6000600254905090565b60008061034061059f565b905061034d858285610770565b6103588585856107fc565b60019150509392505050565b60006012905090565b60008061037861059f565b905061039981858561038a8589610518565b61039491906105e9565b6105a7565b600191505092915050565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b6060600480546103fb90610589565b80601f016020809104026020016040519081016040528092919081815260200182805461042790610589565b80156104745780601f1061044957610100808354040283529160200191610474565b820191906000526020600020905b81548152906001019060200180831161045757829003601f168201915b5050505050905090565b60008061048961059f565b905060006104978286610518565b9050838110156104dc576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104d390610665565b60405180910390fd5b6104e982868684036105a7565b60019250505092915050565b60008061050061059f565b905061050d8185856107fc565b600191505092915050565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b600060028204905060018216806105a157607f821691505b6020821081036105b4576105b361055a565b5b50919050565b600033905090565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610616576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161060d906106f7565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610685576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161067c90610789565b60405180910390fd5b80600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925836040516107639190610448565b60405180910390a3505050565b600061077c8484610518565b90507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff81146107f657818110156107e8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107df906107f5565b60405180910390fd5b6107f584848484036105a7565b5b50505050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff160361086b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161086290610887565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16036108da576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108d190610919565b60405180910390fd5b6108e583838361094b565b60008060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205490508181101561096b576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610962906109ab565b60405180910390fd5b8181036000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef84604051610a599190610448565b60405180910390a3610a6c848484610950565b50505050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610aac578082015181840152602081019050610a91565b60008484015250505050565b6000601f19601f8301169050919050565b6000610ad482610a72565b610ade8185610a7d565b9350610aee818560208601610a8e565b610af781610ab8565b840191505092915050565b60006020820190508181036000830152610b1c8184610ac9565b905092915050565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000610b5482610b29565b9050919050565b610b6481610b49565b8114610b6f57600080fd5b50565b600081359050610b8181610b5b565b92915050565b6000819050919050565b610b9a81610b87565b8114610ba557600080fd5b50565b600081359050610bb781610b91565b92915050565b60008060408385031215610bd457610bd3610b24565b5b6000610be285828601610b72565b9250506020610bf385828601610ba8565b9150509250929050565b60008115159050919050565b610c1281610bfd565b82525050565b6000602082019050610c2d6000830184610c09565b92915050565b610c3c81610b87565b82525050565b6000602082019050610c576000830184610c33565b92915050565b600080600060608486031215610c7657610c75610b24565b5b6000610c8486828701610b72565b9350506020610c9586828701610b72565b9250506040610ca686828701610ba8565b9150509250925092565b600060ff82169050919050565b610cc681610cb0565b82525050565b6000602082019050610ce16000830184610cbd565b92915050565b600060208284031215610cfd57610cfc610b24565b5b6000610d0b84828501610b72565b91505092915050565b60008060408385031215610d2b57610d2a610b24565b5b6000610d3985828601610b72565b9250506020610d4a85828601610b72565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680610d9b57607f821691505b602082108103610dae57610dad610d54565b5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610dee82610b87565b9150610df983610b87565b9250828201905080821115610e1157610e10610db4565b5b92915050565b7f45524332303a2064656372656173656420616c6c6f77616e63652062656c6f7760008201527f207a65726f000000000000000000000000000000000000000000000000000000602082015250565b6000610e73602583610a7d565b9150610e7e82610e17565b604082019050919050565b60006020820190508181036000830152610ea281610e66565b9050919050565b7f45524332303a20617070726f76652066726f6d20746865207a65726f2061646460008201527f7265737300000000000000000000000000000000000000000000000000000000602082015250565b6000610f05602483610a7d565b9150610f1082610ea9565b604082019050919050565b60006020820190508181036000830152610f3481610ef8565b9050919050565b7f45524332303a20617070726f766520746f20746865207a65726f20616464726560008201527f7373000000000000000000000000000000000000000000000000000000000000602082015250565b6000610f97602283610a7d565b9150610fa282610f3b565b604082019050919050565b60006020820190508181036000830152610fc681610f8a565b9050919050565b7f45524332303a20696e73756666696369656e7420616c6c6f77616e6365000000600082015250565b6000611003601d83610a7d565b915061100e82610fcd565b602082019050919050565b6000602082019050818103600083015261103281610ff6565b9050919050565b7f45524332303a207472616e736665722066726f6d20746865207a65726f20616460008201527f6472657373000000000000000000000000000000000000000000000000000000602082015250565b6000611095602583610a7d565b91506110a082611039565b604082019050919050565b600060208201905081810360008301526110c481611088565b9050919050565b7f45524332303a207472616e7366657220746f20746865207a65726f206164647260008201527f6573730000000000000000000000000000000000000000000000000000000000602082015250565b6000611127602383610a7d565b9150611132826110cb565b604082019050919050565b600060208201905081810360008301526111568161111a565b9050919050565b600061116882610b87565b915061117383610b87565b925082820390508181111561118b5761118a610db4565b5b92915050565b600081905092915050565b50565b60006111ac600083611191565b91506111b78261119c565b600082019050919050565b60006111cd8261119f565b9150819050919050565b7f45524332303a207472616e7366657220616d6f756e742065786365656473206260008201527f616c616e63650000000000000000000000000000000000000000000000000000602082015250565b6000611233602683610a7d565b915061123e826111d7565b604082019050919050565b6000602082019050818103600083015261126281611226565b905091905056fea264697066735822122003e4b95c9b0b3d6e5f7b2e6c5e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e64736f6c63430008110033";
        
        const factory = new ethers.ContractFactory(cryptoTokenABI, cryptoTokenBytecode, wallet);
        const cryptoToken = await factory.deploy();
        await cryptoToken.waitForDeployment();
        const cryptoTokenAddress = await cryptoToken.getAddress();
        
        console.log('‚úÖ CryptoToken deployed to:', cryptoTokenAddress);

        // Para o NFT, vamos usar um deploy mais simples
        console.log('\nüé® Deploying CryptoNFT...');
        
        // Deploy manual usando transa√ß√£o
        const nftBytecode = "0x608060405234801561001057600080fd5b5060405161234b38038061234b833981810160405281019061003291906100b9565b6040518060400160405280600981526020017f43727970746f4e465400000000000000000000000000000000000000000000008152506040518060400160405280600481526020017f434e46540000000000000000000000000000000000000000000000000000000081525061009e6100bb60201b60201c565b81600090816100ad91906102c4565b505050806001819055505050610396565b600033905090565b6000815190506100d0816103bc565b92915050565b6000602082840312156100ec576100eb6103b7565b5b60006100fa848285016100c1565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168061014a57607f821691505b60208210810361015d5761015c610103565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b6000600883026101c57fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610188565b6101cf8683610188565b95508019841693508086168417925050509392505050565b6000819050919050565b6000819050919050565b600061021661021161020c846101e7565b6101f1565b6101e7565b9050919050565b6000819050919050565b610230836101fb565b61024461023c8261021d565b848454610195565b825550505050565b600090565b61025961024c565b610264818484610227565b505050565b5b818110156102885761027d600082610251565b60018101905061026a565b5050565b601f8211156102cd5761029e81610163565b6102a784610178565b810160208510156102b6578190505b6102ca6102c285610178565b830182610269565b50505b505050565b600082821c905092915050565b60006102f0600019846008026102d2565b1980831691505092915050565b600061030983836102df565b9150826002028217905092915050565b61032282610188565b67ffffffffffffffff81111561033b5761033a6101e7565b5b61034584546101e7565b61035084828561028c565b600060209050601f8311600181146103835760008415610371578287015190505b61037b85826102fd565b865550610390565b601f19841661039186610163565b60005b828110156103b957848901518255600182019150602085019450602081019050610394565b868310156103d657848901516103d2601f8916826102df565b8355505b6001600288020188555050505b505050505050565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061040c826103e1565b9050919050565b61041c81610401565b811461042757600080fd5b50565b60008151905061043981610413565b92915050565b60006020828403121561045557610454600080fd5b5b60006104638482850161042a565b91505092915050565b6000819050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b600060028204905060018216806104be57607f821691505b6020821081036104d1576104d0610477565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b6000600883026105397fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826104fc565b61054386836104fc565b95508019841693508086168417925050509392505050565b6000819050919050565b600061058061057b6105768461046c565b61055b565b61046c565b9050919050565b6000819050919050565b61059a83610565565b6105ae6105a682610587565b848454610509565b825550505050565b600090565b6105c36105b6565b6105ce818484610591565b505050565b5b818110156105f2576105e76000826105bb565b6001810190506105d4565b5050565b601f82111561063757610608816104d7565b610611846104ec565b81016020851015610620578190505b61063461062c856104ec565b8301826105d3565b50505b505050565b600082821c905092915050565b600061065a6000198460080261063c565b1980831691505092915050565b60006106738383610649565b9150826002028217905092915050565b61068c82610188565b67ffffffffffffffff8111156106a5576106a4610103565b5b6106af82546104a6565b6106ba8282856105f6565b600060209050601f8311600181146106ed57600084156106db578287015190505b6106e58582610667565b865550610740565b601f1984166106fb866104d7565b60005b8281101561072357848901518255600182019150602085019450602081019050610706565b86831015610740578489015161073c601f891682610649565b8355505b6001600288020188555050505b505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600061078282610472565b915061078d83610472565b92508282019050808211156107a5576107a4610748565b5b92915050565b6000819050919050565b6000819050919050565b6000819050919050565b60006107e46107df6107da846107ab565b6107b5565b6107bf565b9050919050565b6107f4816107c9565b82525050565b600060208201905061080f60008301846107eb565b92915050565b7f45524332303a20696e73756666696369656e7420616c6c6f77616e6365000000600082015250565b600061084b601d83610188565b915061085682610815565b602082019050919050565b6000602082019050818103600083015261087a8161083e565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006108ac82610881565b9050919050565b6108bc816108a1565b82525050565b60006020820190506108d760008301846108b3565b92915050565b7f4552433732313a20696e76616c696420746f6b656e2049440000000000000000600082015250565b6000610913601883610188565b915061091e826108dd565b602082019050919050565b6000602082019050818103600083015261094281610906565b9050919050565b7f4552433732313a2061646472657373207a65726f206973206e6f74206120766160008201527f6c6964206f776e65720000000000000000000000000000000000000000000000602082015250565b60006109a5602983610188565b91506109b082610949565b604082019050919050565b600060208201905081810360008301526109d481610998565b9050919050565b7f4552433732313a20617070726f76616c20746f2063757272656e74206f776e6560008201527f7200000000000000000000000000000000000000000000000000000000000000602082015250565b6000610a37602183610188565b9150610a42826109db565b604082019050919050565b60006020820190508181036000830152610a6681610a2a565b9050919050565b7f4552433732313a20617070726f76652063616c6c6572206973206e6f7420746f60008201527f6b656e206f776e6572206f7220617070726f76656420666f7220616c6c000000602082015250565b6000610ac9603d83610188565b9150610ad482610a6d565b604082019050919050565b60006020820190508181036000830152610af881610abc565b9050919050565b7f4552433732313a2063616c6c6572206973206e6f7420746f6b656e206f776e6560008201527f72206f7220617070726f76656400000000000000000000000000000000000000602082015250565b6000610b5b602d83610188565b9150610b6682610aff565b604082019050919050565b60006020820190508181036000830152610b8a81610b4e565b9050919050565b7f4552433732313a20696e76616c696420746f6b656e2049440000000000000000600082015250565b6000610bc7601883610188565b9150610bd282610b91565b602082019050919050565b60006020820190508181036000830152610bf681610bba565b9050919050565b7f4552433732313a207472616e736665722066726f6d20696e636f72726563742060008201527f6f776e6572000000000000000000000000000000000000000000000000000000602082015250565b6000610c59602583610188565b9150610c6482610bfd565b604082019050919050565b60006020820190508181036000830152610c8881610c4c565b9050919050565b7f4552433732313a207472616e7366657220746f20746865207a65726f2061646460008201527f7265737300000000000000000000000000000000000000000000000000000000602082015250565b6000610ceb602483610188565b9150610cf682610c8f565b604082019050919050565b60006020820190508181036000830152610d1a81610cde565b9050919050565b7f4552433732313a20617070726f766520746f2063616c6c657200000000000000600082015250565b6000610d57601983610188565b9150610d6282610d21565b602082019050919050565b60006020820190508181036000830152610d8681610d4a565b9050919050565b7f4552433732313a207472616e7366657220746f206e6f6e20455243373231526560008201527f63656976657220696d706c656d656e7465720000000000000000000000000000602082015250565b6000610de9603283610188565b9150610df482610d8d565b604082019050919050565b60006020820190508181036000830152610e1881610ddc565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b60006040820190508181036000830152610e6781610815565b90508181036000830152610e7a81610815565b905092915050565b600081519050919050565b600082825260208201905092915050565b6000610ea982610e82565b610eb38185610e8d565b9350610ec3818560208601610188565b610ecc81610103565b840191505092915050565b60006080820190508181036000830152610ef08187610e9e565b90508181036000830152610f038186610e9e565b9050610f1260408301856108b3565b8181036060830152610f248184610e9e565b905095945050505050565b600081519050610f3e816103bc565b92915050565b600060208284031215610f5a57610f596103b7565b5b6000610f6884828501610f2f565b9150509291505056fea26469706673582212206e8d7b2e3f2b5e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e64736f6c63430008110033";
        
        const nftTx = await wallet.sendTransaction({
            data: nftBytecode + ethers.zeroPadValue(cryptoTokenAddress, 32).slice(2), // Constructor parameter
            gasLimit: 3000000
        });
        
        const nftReceipt = await nftTx.wait();
        const cryptoNFTAddress = nftReceipt.contractAddress;
        
        console.log('‚úÖ CryptoNFT deployed to:', cryptoNFTAddress);

        // Salva os endere√ßos
        const deployInfo = {
            network: 'localhost',
            chainId: 1337,
            rpcUrl: 'http://localhost:7545',
            contracts: {
                CryptoToken: {
                    address: cryptoTokenAddress,
                    abi: cryptoTokenABI
                },
                CryptoNFT: {
                    address: cryptoNFTAddress,
                    abi: cryptoNFTABI
                }
            },
            accounts: {
                deployer: wallet.address,
                balance: ethers.formatEther(await provider.getBalance(wallet.address))
            },
            deployedAt: new Date().toISOString()
        };

        // Salva arquivos
        const fs = require('fs');
        const path = require('path');
        
        fs.writeFileSync(
            path.join(__dirname, 'deployed-addresses.json'),
            JSON.stringify(deployInfo, null, 2)
        );

        console.log('\nüéâ Deployment completed!');
        console.log('\nüìã Summary:');
        console.log('Network: Ganache (localhost:7545)');
        console.log('Chain ID: 1337');
        console.log('CryptoToken:', cryptoTokenAddress);
        console.log('CryptoNFT:', cryptoNFTAddress);
        console.log('Deployer:', wallet.address);

    } catch (error) {
        console.error('‚ùå Deployment failed:', error.message);
    }
}

main();
